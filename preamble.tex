%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  PREAMBLE: sets up compiler modes, loads packages, defines macros, etc
%  Steve Rodney, 2012
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%
% COMPILER MODES
%%%%%%%%%%%%%%%%%%%%

% Changetext mode : highlight modified text in bold blue font
\newif{\ifchangetext}
\changetextfalse

%% Read in the -options.tex file (generated by the Makefile)
%%  to set the compile-mode options
\InputIfFileExists{\jobname-options}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% changetext  mode settings
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifchangetext
  % Changed text is highlighted in bold, blue font 
  \newcommand{\change}[1]{\textcolor{blue}{ \bf #1}}
  \newcommand{\changenote}[1]{\textcolor{blue}{ \bf #1}}
\else
  % Changed text is indistinguishable
  \newcommand{\change}[1]{#1}
  \newcommand{\changenote}[1]{}
\fi


%%%%%%%%%%%%%%%%%%%%
% PACKAGES INCLUDED
%%%%%%%%%%%%%%%%%%%%
%\usepackage{deluxetable}  % stand-alone version of AAStex's  deluxetable
\usepackage{longtable}
\usepackage{tabu}
\usepackage{booktabs}
\usepackage{array}

\usepackage{journalnames} % Astro Journal abbreviations
\usepackage{natbib}   % reference citations and bibliography
\usepackage[svgnames]{xcolor}  % colored text (better than color)
\usepackage{graphicx}
\usepackage{amsmath}  % equations and such
\usepackage{amssymb}  % extended symbols lib
\usepackage{setspace} % switch from double to single spacing
\usepackage{wrapfig}

%\usepackage[linkcolor=blue,citecolor=darkgray,colorlinks=true]{hyperref}
%\usepackage{enumerate}% enumerated lists
%\usepackage{mathrsfs} % extended math fonts (mathscr)
%\usepackage{breqn}    % automatic line breaks for long equations
%\usepackage{multirow}  % muti-row table cells
%\usepackage{paralist} % inline enumeration (for Table ref lists)
%\usepackage{authblk}
%\usepackage{multicol}
%\usepackage{subfig} % subfloats with independent captions
%\usepackage{subcaption} % subfloats with independent captions
%\usepackage[none]{hyphenat} % Suppress the hyphenating
%\usepackage{verbatim} % verbatim text formatting
%\usepackage{ulem} % for some underlining.
%\usepackage[usenames]{color}  % colored text
%\usepackage{colortbl}


\usepackage{multicol}

%\usepackage{etoolbox}
%\patchcmd{\thebibliography}{\section*{\refname}}
%    {\begin{multicols}{2}[\section*{\refname}]}{}{}
%\patchcmd{\endthebibliography}{\endlist}{\endlist\end{multicols}}{}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PDF mode settings : Auto-select eps or pdf figures 
% based  on the compiler used (i.e. latex vs pdflatex)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\DeclareGraphicsExtensions{.png,.pdf,.jpg}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% AUTHOR-DEFINED MACROS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Time delay 
\def\dt{\ensuremath{\Delta t}}
\def\Dl{\ensuremath{D_L}}
\def\Ds{\ensuremath{D_S}}
\def\Dls{\ensuremath{D_{LS}}}

% dagger for marking primary targets
\def\dag{\ensuremath{^{\dagger}}}

% plus-minus symbols for statistical or systematic errors
\def\pmstat{\ensuremath{\substack{\pm \\ \mbox{\scalebox{0.45}{stat}}}}}
\def\pmsys{\ensuremath{\substack{\pm \\ \mbox{\scalebox{0.45}{sys}}}}}


% prompt Ia fraction
\def\fp{\ensuremath{f_{P}}}
\def\fP{\ensuremath{f_{P}}}

% STARDUST probabilities
\def\pIa{\ensuremath{p_{Ia}}}
\def\pIaz{\ensuremath{p_{Ia,z}}}
\def\pIahost{\ensuremath{p_{Ia,host}}}

% General purpose usefulness:
\newcommand{\etal}{{et al.~}}                                             
\def\eg{{e.g.}}
\def\ie{{i.e.}}
\def\etc{{etc.}}
\newcommand{\lta}{\lesssim}                                               
\newcommand{\gta}{\gtrsim}                                                
\newcommand{\gt}{\gtsim}

% Cosmology:
\def\Om{\ensuremath{\Omega_{\rm m}}}
\def\Ot{\ensuremath{\Omega_{\rm tot}}}
\def\Ob{\ensuremath{\Omega_{\rm b}}}
\def\OL{\ensuremath{\Omega_{\Lambda}}}
\def\Ok{\ensuremath{\Omega_{\rm k}}}
\def\om{\ensuremath{\omega_{\rm m}}}
\def\ob{\ensuremath{\omega_{\rm b}}}
\def\wo{\ensuremath{w_0}}
\def\wa{\ensuremath{w_{\rm a}}}
\def\lcdm{$\Lambda$CDM}
\def\LCDM{$\Lambda$CDM}
\def\wcdm{$w$CDM}
\def\Ho{\ensuremath{H_0}}
\def\DA{\ensuremath{D_A}}
\def\DL{\ensuremath{D_L}}

% Astronomy:
\def\arcsec{\ensuremath{^{\prime\prime}}} 
\def\kms{\ensuremath{{\rm km s}^{-1}}}
\def\hgpcq{\mbox{$h^{-3}$Gpc$^3$}}
\def\hmpcq{\mbox{$h^{-3}$Mpc$^3$}}
\def\perhmpcq{\mbox{$h^{3}$Mpc$^{-3}$}}
\def\hmpc{\mbox{$h^{-1}$Mpc}}
\def\hmpci{\mbox{$h$\,Mpc$^{-1}$}}
\def\mpc{\mbox{Mpc}}
\def\mpci{\mbox{Mpc$^{-1}$}}
\def\mpcq{\mbox{Mpc$^{-3}$}}
\def\Msun{\mbox{M$_{\odot}$}}
\def\Av{\mbox{$A_V$}}
\def\Rv{\mbox{$R_V$}}

% Supernovae : 
\newcommand{\SNuVol}{\ensuremath{10^{-4}~\mbox{yr}^{-1}~\mbox{Mpc}^{-3}~{\mbox{h}_{70}}^{3}}}
\newcommand{\CCSN}{CC\,SN}
\newcommand{\CCSNe}{CC\,SN}
\newcommand{\TNSN}{TN\,SN}
\newcommand{\TNSNe}{TN\,SNe}
\newcommand{\SNIa}{SN\,Ia}
\newcommand{\SNeIa}{SN\,Ia}
\newcommand{\SNRz}{SNR($z$)}
\def\Mch{\mbox{M$_{\rm Ch}$}}
\def\Ni{\ensuremath{^{56}\mbox{Ni}}}
\newcommand{\dmfifteen}{\ensuremath{\Delta\mbox{m}_{15}}}
\newcommand{\deltamfifteen}{\ensuremath{\Delta\mbox{m}_{15}}}
\newcommand{\NM}{\ensuremath{\mbox{\rm N}_{Ia}/\mbox{M}_{*}}}

\def\galsnid{{\it galsnid}}

% SNANA / SALT2
\def\xone{\ensuremath{x_{1}}}
\def\C{\ensuremath{\mathcal{C}}}


% Missions:
\def\HST{{\it HST}}
\def\Hubble{{\it Hubble}}
\def\Hubbles{{\it Hubble's}}
\def\Spitzer{{\it Spitzer}}
\def\Chandra{{\it Chandra}}
\def\Herschel{{\it Herschel}}
\def\XMM{{\it XMM}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Page Setup 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\topfraction}{0.9}
\renewcommand{\bottomfraction}{0.9}
\renewcommand{\textfraction}{0.1}
\renewcommand{\floatpagefraction}{0.9}
\renewcommand{\dbltopfraction}{0.9}
\renewcommand{\dblfloatpagefraction}{0.9}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Figure placement shortcuts    
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\newcommand{\insertfigwide}[2] {
\begin{figure*}
\begin{center}
\resizebox{\textwidth}{!}{\includegraphics{{#1}}}
\caption{{#2}}
\end{center}
\end{figure*}
}

\newcommand{\insertfigdouble}[3] {
\begin{figure*}
\begin{center}
\resizebox{0.45\textwidth}{!}{\includegraphics{{#1}}}
\resizebox{0.45\textwidth}{!}{\includegraphics{{#2}}}
\caption{{#3}}
\end{center}
\end{figure*}
}

\newcommand{\insertfigquad}[5] {
\begin{figure*}
\begin{center}
\resizebox{0.48\textwidth}{!}{\includegraphics{{#1}}}
\resizebox{0.48\textwidth}{!}{\includegraphics{{#2}}}
\resizebox{0.48\textwidth}{!}{\includegraphics{{#3}}}
\resizebox{0.48\textwidth}{!}{\includegraphics{{#4}}}
\caption{{#5}}
\end{center}
\end{figure*}
}

\newcommand{\insertfig}[2] {
\begin{figure}
\begin{center}
\resizebox{\columnwidth}{!}{\includegraphics{{#1}}}
\caption{{#2}}
\end{center}
\end{figure}
}
